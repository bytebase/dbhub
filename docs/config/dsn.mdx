---
title: "Database Connection Strings (DSN)"
description: "Configure database connections using Data Source Names"
---

DBHub uses Database Source Names (DSN) to connect to your databases. This page covers the DSN format for all supported databases.

## DSN Format Overview

A DSN is a URI that contains all connection information:

```
database_type://username:password@host:port/database_name?options
```

## PostgreSQL

```
postgres://[user]:[password]@[host]:[port]/[database]?[options]
```

### Examples

<Tabs>
  <Tab title="Basic Connection">
    ```bash
    postgres://myuser:mypassword@localhost:5432/mydb
    ```
  </Tab>

  <Tab title="With SSL Disabled">
    ```bash
    postgres://myuser:mypassword@localhost:5432/mydb?sslmode=disable
    ```
  </Tab>

  <Tab title="With SSL Required">
    ```bash
    postgres://myuser:mypassword@prod.example.com:5432/mydb?sslmode=require
    ```
  </Tab>

  <Tab title="Cloud Provider">
    ```bash
    postgres://user:pass@db.abc123.us-east-1.rds.amazonaws.com:5432/mydb?sslmode=require
    ```
  </Tab>
</Tabs>

## MySQL

```
mysql://[user]:[password]@[host]:[port]/[database]?[options]
```

### Examples

<Tabs>
  <Tab title="Basic Connection">
    ```bash
    mysql://root:password@localhost:3306/mydb
    ```
  </Tab>

  <Tab title="With SSL Disabled">
    ```bash
    mysql://root:password@localhost:3306/mydb?sslmode=disable
    ```
  </Tab>

  <Tab title="Cloud Provider">
    ```bash
    mysql://admin:pass@db.cluster.us-east-1.rds.amazonaws.com:3306/mydb?sslmode=require
    ```
  </Tab>
</Tabs>

## MariaDB

```
mariadb://[user]:[password]@[host]:[port]/[database]?[options]
```

### Examples

```bash
# Basic connection
mariadb://root:password@localhost:3306/mydb

# With SSL disabled
mariadb://root:password@localhost:3306/mydb?sslmode=disable
```

<Note>
MariaDB DSNs use the same format as MySQL. The `mariadb://` prefix tells DBHub to use the MariaDB-specific connector.
</Note>

## SQL Server

```
sqlserver://[user]:[password]@[host]:[port]/[database]?[options]
```

### Examples

<Tabs>
  <Tab title="Basic Connection">
    ```bash
    sqlserver://sa:YourPassword123@localhost:1433/mydb
    ```
  </Tab>

  <Tab title="With SSL Disabled">
    ```bash
    sqlserver://sa:YourPassword123@localhost:1433/mydb?sslmode=disable
    ```
  </Tab>

  <Tab title="Azure SQL">
    ```bash
    sqlserver://username@servername:pass@servername.database.windows.net:1433/mydb?sslmode=require
    ```
  </Tab>

  <Tab title="Azure AD Authentication">
    ```bash
    sqlserver://username@localhost:1433/mydb?authentication=azure-active-directory-access-token
    ```
  </Tab>
</Tabs>

### SQL Server Options

| Option | Values | Description |
| ------ | ------ | ----------- |
| `sslmode` | `disable`, `require` | SSL/TLS encryption mode |
| `authentication` | `azure-active-directory-access-token` | Use Azure AD token auth (when running on Azure) |

## SQLite

```
sqlite:///[path/to/database.db]
sqlite:///:memory:
```

### Examples

<Tabs>
  <Tab title="File Path (Unix)">
    ```bash
    sqlite:///var/lib/data/mydb.db
    sqlite:///home/user/databases/app.db
    ```
  </Tab>

  <Tab title="File Path (Windows)">
    ```bash
    sqlite:C:/Users/YourName/data/database.db
    ```
  </Tab>

  <Tab title="Relative Path">
    ```bash
    sqlite:///./data/local.db
    sqlite:///../databases/shared.db
    ```
  </Tab>

  <Tab title="In-Memory">
    ```bash
    sqlite:///:memory:
    ```
  </Tab>
</Tabs>

<Warning>
SQLite paths must be absolute or use `./` for relative paths. In-memory databases (`:memory:`) are temporary and lost when DBHub restarts.
</Warning>

## Common Options

### SSL/TLS Modes

| Mode | Description | Use Case |
| ---- | ----------- | -------- |
| (default) | Certificate verification | Production (most secure) |
| `sslmode=require` | Encryption without cert verification | Self-signed certificates |
| `sslmode=disable` | No encryption | Local development, trusted networks |

### Using Options

Add options to your DSN with `?` and `&` separators:

```bash
# Single option
postgres://user:pass@localhost:5432/mydb?sslmode=disable

# Multiple options
postgres://user:pass@localhost:5432/mydb?sslmode=require&connect_timeout=10
```

## Special Characters in Passwords

If your password contains special characters, you have two options:

### Option 1: URL Encode

Encode special characters in your DSN:

| Character | Encoded |
| --------- | ------- |
| `@` | `%40` |
| `:` | `%3A` |
| `/` | `%2F` |
| `#` | `%23` |
| `?` | `%3F` |
| `&` | `%26` |
| `=` | `%3D` |
| `%` | `%25` |

Example:

```bash
# Password: p@ss:word#123
postgres://user:p%40ss%3Aword%23123@localhost:5432/mydb
```

### Option 2: Use Environment Variables

The recommended approach for complex passwords:

```bash
# .env file
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=myuser
DB_PASSWORD=p@ss:word#123
DB_NAME=mydb
```

Then start DBHub without the `--dsn` flag - it will read from environment variables.

## Verifying Your DSN

Test your connection string:

```bash
# Test with DBHub
npx @bytebase/dbhub --transport http --port 8080 --dsn "your-dsn-here"

# Check the logs for connection success/failure
```

<Tip>
Use demo mode first to verify DBHub is working before testing your real database connection:

```bash
npx @bytebase/dbhub --transport http --port 8080 --demo
```
</Tip>

## Troubleshooting

### Connection Refused

```
Error: connect ECONNREFUSED
```

**Solutions:**
1. Verify the database is running
2. Check host and port are correct
3. Ensure firewall allows connections
4. For Docker: use `host.docker.internal` instead of `localhost`

### Authentication Failed

```
Error: password authentication failed
```

**Solutions:**
1. Verify username and password
2. Check password special characters are encoded
3. Ensure user has connection permissions
4. Try without SSL: add `?sslmode=disable`

### SSL/TLS Errors

```
Error: SSL connection error
```

**Solutions:**
1. Add `?sslmode=require` to trust self-signed certs
2. Use `?sslmode=disable` for local development
3. Verify server SSL certificate is valid

### Database Not Found

```
Error: database "mydb" does not exist
```

**Solutions:**
1. Verify database name is correct
2. Check user has access to the database
3. Ensure database exists on the server

## Next Steps

<CardGroup cols={2}>
  <Card title="Multi-Database Setup" icon="database" href="/config/multi-database">
    Configure multiple databases with TOML
  </Card>

  <Card title="Environment Variables" icon="code" href="/config/environment">
    Use environment variables for configuration
  </Card>

  <Card title="SSL Configuration" icon="lock" href="/config/ssl">
    Learn more about SSL/TLS encryption
  </Card>

  <Card title="SSH Tunneling" icon="shield" href="/features/ssh-tunnel">
    Connect through bastion hosts
  </Card>
</CardGroup>
